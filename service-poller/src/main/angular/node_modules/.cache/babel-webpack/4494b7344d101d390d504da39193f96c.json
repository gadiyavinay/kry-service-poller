{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\nlet AppComponent = class AppComponent {\n  constructor(appService) {\n    this.appService = appService;\n    this.title = 'service-poller';\n    this.serviceForm = new FormGroup({\n      name: new FormControl('', Validators.required),\n      url: new FormControl('', Validators.required)\n    });\n    this.services = [];\n    this.serviceCount = 0;\n    this.destroy$ = new Subject();\n  }\n\n  onSubmit() {\n    this.appService.addService(this.serviceForm.value).pipe(takeUntil(this.destroy$)).subscribe(data => {\n      console.log('message::::', data);\n      this.serviceForm.reset();\n    });\n  }\n\n  getAllServices() {\n    this.appService.getServices().pipe(takeUntil(this.destroy$)).subscribe(services => {\n      this.serviceCount = services.length;\n      this.services = services;\n    });\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.unsubscribe();\n  }\n\n  ngOnInit() {\n    this.getAllServices();\n  }\n\n};\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})], AppComponent);\nexport { AppComponent };","map":null,"metadata":{},"sourceType":"module"}